(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d469dcc6"],{"39ba":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=Object(c["i"])(" 分类 "),i={class:"main-box"},r={class:"main-box-left"},u={class:"main-box-right"},o={class:"top"},l={class:"bottom"};function s(e,t,n,s,b,d){var j=Object(c["G"])("top-nav"),O=Object(c["G"])("van-sidebar-item"),v=Object(c["G"])("van-sidebar"),f=Object(c["G"])("van-collapse-item"),p=Object(c["G"])("van-collapse"),m=Object(c["G"])("van-tab"),g=Object(c["G"])("van-tabs"),h=Object(c["G"])("van-card");return Object(c["y"])(),Object(c["g"])(c["a"],null,[Object(c["j"])(j,null,{default:Object(c["O"])((function(){return[a]})),_:1}),Object(c["h"])("div",i,[Object(c["h"])("div",r,[Object(c["j"])(p,{modelValue:s.activeNames,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.activeNames=e})},{default:Object(c["O"])((function(){return[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(s.categories,(function(e,n){return Object(c["y"])(),Object(c["f"])(f,{key:n,title:e.name,name:n},{default:Object(c["O"])((function(){return[Object(c["j"])(v,{modelValue:s.activekey,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.activekey=e})},{default:Object(c["O"])((function(){return[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(e.children,(function(e){return Object(c["y"])(),Object(c["f"])(O,{key:e.id,title:e.name,onClick:function(t){return s.getcurrentCid(e.id)}},null,8,["title","onClick"])})),128))]})),_:2},1032,["modelValue"])]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["modelValue"])]),Object(c["h"])("div",u,[Object(c["h"])("div",o,[Object(c["j"])(g,{active:s.active,"onUpdate:active":t[2]||(t[2]=function(e){return s.active=e}),onClick:s.tabClick},{default:Object(c["O"])((function(){return[Object(c["j"])(m,{title:"销量排序"}),Object(c["j"])(m,{title:"价格排序"}),Object(c["j"])(m,{title:"评论排序"})]})),_:1},8,["active","onClick"])]),Object(c["h"])("div",l,[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(s.showGoods,(function(e){return Object(c["y"])(),Object(c["f"])(h,{key:e.id,num:e.sales,price:e.price+".00",title:e.title,thumb:e.cover_url,onClick:function(t){return s.goD(e.id)}},null,8,["num","price","title","thumb","onClick"])})),128))])])])],64)}n("e7e5");var b=n("d399"),d=n("2909"),j=n("1da1"),O=(n("96cf"),n("5200")),v=n("1bab");function f(){return Object(v["a"])({url:"/api/goods"})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(v["a"])({url:"/api/goods?category_id="+t+"&page="+n+"&"+e+"=1"})}var m=n("6c02"),g={name:"Cartgory",components:{TopNav:O["a"]},setup:function(){var e=Object(m["d"])(),t=Object(c["D"])(["1"]),n=Object(c["D"])(0),a=Object(c["D"])(0),i=Object(c["C"])({sales:{page:1,list:[]},price:{page:1,list:[]},comments_count:{page:1,list:[]}}),r=Object(c["D"])("sales"),u=Object(c["D"])(0),o=function(e){u.value=e,s()},l=Object(c["d"])((function(){return i[r.value].list})),s=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p("sales",u.id).then((function(e){i.sales.list=e.goods.data}));case 2:return e.next=4,p("price",u.id).then((function(e){i.price.list=e.goods.data}));case 4:return e.next=6,p("comments_count",u.id).then((function(e){i.comments_count.list=e.goods.data}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){i[r.value].page;p(u.value,r.value).then((function(e){var t;(t=i[r.value].list).push.apply(t,Object(d["a"])(e.goods.data)),i[r.value].page+=1}))},v=function(e){var t=["sales","price","comments_count"];r.value=t[e],O()},g=Object(c["D"])([]);Object(c["w"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b["a"].loading({message:"加载中",forbidClick:!0}),e.next=3,f().then((function(e){g.value=e.categories}));case 3:s();case 4:case"end":return e.stop()}}),e)}))));var h=function(t){e.push({path:"/detail",query:{id:t}})};return{activeNames:t,categories:g,active:n,activekey:a,showGoods:l,getcurrentCid:o,tabClick:v,goD:h}}},h=(n("b37e"),n("6b0d")),k=n.n(h);const y=k()(g,[["render",s],["__scopeId","data-v-3d6161f0"]]);t["default"]=y},"430a":function(e,t,n){},b37e:function(e,t,n){"use strict";n("430a")}}]);
//# sourceMappingURL=chunk-d469dcc6.309b9639.js.map