(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5acd2117"],{"04d4":function(e,t,n){"use strict";n("c4b0")},"39ba":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=Object(c["j"])(" 分类 "),i={class:"main-box"},o={class:"main-box-left"},r={class:"main-box-right"},u={class:"top"},l={class:"bottom"};function s(e,t,n,s,b,d){var j=Object(c["H"])("top-nav"),O=Object(c["H"])("van-sidebar-item"),v=Object(c["H"])("van-sidebar"),f=Object(c["H"])("van-collapse-item"),p=Object(c["H"])("van-collapse"),m=Object(c["H"])("van-tab"),g=Object(c["H"])("van-tabs"),h=Object(c["H"])("van-card"),k=Object(c["H"])("bottom-nav");return Object(c["z"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(j,null,{default:Object(c["P"])((function(){return[a]})),_:1}),Object(c["i"])("div",i,[Object(c["i"])("div",o,[Object(c["k"])(p,{modelValue:s.activeNames,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.activeNames=e})},{default:Object(c["P"])((function(){return[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(s.categories,(function(e,n){return Object(c["z"])(),Object(c["f"])(f,{key:n,title:e.name,name:n},{default:Object(c["P"])((function(){return[Object(c["k"])(v,{modelValue:s.activekey,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.activekey=e})},{default:Object(c["P"])((function(){return[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(e.children,(function(e){return Object(c["z"])(),Object(c["f"])(O,{key:e.id,title:e.name,onClick:function(t){return s.getcurrentCid(e.id)}},null,8,["title","onClick"])})),128))]})),_:2},1032,["modelValue"])]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["modelValue"])]),Object(c["i"])("div",r,[Object(c["i"])("div",u,[Object(c["k"])(g,{active:s.active,"onUpdate:active":t[2]||(t[2]=function(e){return s.active=e}),onClick:s.tabClick},{default:Object(c["P"])((function(){return[Object(c["k"])(m,{title:"销量排序"}),Object(c["k"])(m,{title:"价格排序"}),Object(c["k"])(m,{title:"评论排序"})]})),_:1},8,["active","onClick"])]),Object(c["i"])("div",l,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(s.showGoods,(function(e){return Object(c["z"])(),Object(c["f"])(h,{key:e.id,num:e.sales,price:e.price+".00",title:e.title,thumb:e.cover_url,onClick:function(t){return s.goD(e.id)}},null,8,["num","price","title","thumb","onClick"])})),128))])])]),Object(c["k"])(k)],64)}n("e7e5");var b=n("d399"),d=n("2909"),j=n("1da1"),O=(n("96cf"),n("c549")),v=n("5200"),f=n("1bab");function p(){return Object(f["a"])({url:"/api/goods"})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(f["a"])({url:"/api/goods?category_id="+t+"&page="+n+"&"+e+"=1"})}var g=n("6c02"),h={name:"Cartgory",components:{TopNav:v["a"],BottomNav:O["a"]},setup:function(){var e=Object(g["d"])(),t=Object(c["E"])(["1"]),n=Object(c["E"])(0),a=Object(c["E"])(0),i=Object(c["D"])({sales:{page:1,list:[]},price:{page:1,list:[]},comments_count:{page:1,list:[]}}),o=Object(c["E"])("sales"),r=Object(c["E"])(0),u=function(e){r.value=e,s()},l=Object(c["d"])((function(){return i[o.value].list})),s=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m("sales",r.id).then((function(e){i.sales.list=e.goods.data}));case 2:return e.next=4,m("price",r.id).then((function(e){i.price.list=e.goods.data}));case 4:return e.next=6,m("comments_count",r.id).then((function(e){i.comments_count.list=e.goods.data}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){i[o.value].page;m(r.value,o.value).then((function(e){var t;(t=i[o.value].list).push.apply(t,Object(d["a"])(e.goods.data)),i[o.value].page+=1}))},v=function(e){var t=["sales","price","comments_count"];o.value=t[e],O()},f=Object(c["E"])([]);Object(c["x"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b["a"].loading({message:"加载中",forbidClick:!0}),e.next=3,p().then((function(e){f.value=e.categories}));case 3:s();case 4:case"end":return e.stop()}}),e)}))));var h=function(t){e.push({path:"/detail",query:{id:t}})};return{activeNames:t,categories:f,active:n,activekey:a,showGoods:l,getcurrentCid:u,tabClick:v,goD:h}}},k=(n("04d4"),n("6b0d")),w=n.n(k);const _=w()(h,[["render",s],["__scopeId","data-v-145cbe41"]]);t["default"]=_},c4b0:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5acd2117.a7a782fd.js.map